<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Gnome</title>
  <meta name="description" content="Automatically organizes your files, searchable in natural language">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Rubik:wght@400;600;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="/styles/main.css?v=2025-09-17-1809">
  <link rel="icon" type="image/jpeg" href="/public/images/gnome_logo_purple_bg.jpeg">
  <link rel="shortcut icon" type="image/jpeg" href="/public/images/gnome_logo_purple_bg.jpeg">
  <link rel="apple-touch-icon" href="/public/images/gnome_logo_purple_bg.jpeg">
  <meta property="og:title" content="Gnome">
  <meta property="og:description" content="Automatically organizes your files, searchable in natural language">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://gnom3.com/">
  <meta property="og:image" content="/public/images/gnome_logo_purple_bg.jpeg">
</head>

<body>
  <div class="bg">
    <div class="wave wave-a"></div>
    <div class="wave wave-b"></div>
    <div class="wave wave-c"></div>
  </div>
  <div class="ribbon">
  </div>
  <main>
    <section class="hero container">
      <img class="hero-logo" src="/public/images/logo.png" alt="gnome">
      <h1 id="animated-headline">Automatically organizes your files, searchable in natural language</h1>
    </section>

    <div class="counter-wrap container" aria-label="signup counter">
      <div id="signup-counter" class="counter">562 signed up already</div>
    </div>

    <section id="demo-section" class="stage container" aria-label="Product demo">
      <div class="stage-inner">
        <video class="demo-video" src="/public/videos/demo.mp4" playsinline muted
               disablepictureinpicture controlsList="nodownload noplaybackrate noremoteplayback nofullscreen"
               tabindex="-1"></video>
      </div>
    </section>

    <section id="join-section" class="checkout container" aria-label="Join waitlist" hidden>
      <button type="button" class="big-join-btn" disabled>Join Waitlist</button>
    </section>
  </main>

  <footer class="footer">
    <div class="container">
      <p>Copyright Â© <span id="year"></span> Gnome, Inc. All rights reserved.</p>
    </div>
  </footer>

  <script>
    document.getElementById('year').textContent = new Date().getFullYear();

    // waves parallax animation
    const waves = document.querySelectorAll('.wave');
    window.addEventListener('scroll', () => {
      const y = window.scrollY;
      waves.forEach((w, i) => {
        w.style.transform = `translateY(${y * (0.03 + i * 0.02)}px)`;
      });
    });

    // animate headline letters without ever breaking words across lines
    const headline = document.getElementById('animated-headline');
    const originalText = headline.textContent.trim();
    headline.innerHTML = '';

    let charIndex = 0;
    originalText.split(/\s+/).forEach((word, wi, arr) => {
      const wordSpan = document.createElement('span');
      wordSpan.style.whiteSpace = 'nowrap';
      wordSpan.style.display = 'inline-block';

      word.split('').forEach((char) => {
        const span = document.createElement('span');
        span.textContent = char;
        span.style.opacity = '0';
        span.style.animation = `fadeInLetter 0.1s ease-out ${0.8 + charIndex * 0.05}s forwards`;
        wordSpan.appendChild(span);
        charIndex++;
      });

      headline.appendChild(wordSpan);

      if (wi < arr.length - 1) {
        headline.appendChild(document.createTextNode(' '));
        charIndex++; // maintain rhythm for the space
      }
    });

    // animate counter letters with glow
    const counter = document.getElementById('signup-counter');
    const counterText = counter.textContent;
    counter.innerHTML = '';

    counterText.split('').forEach((char, i) => {
      const span = document.createElement('span');
      span.textContent = char === ' ' ? '\u00A0' : char;
      span.style.opacity = '1';
      span.style.position = 'relative';
      // Apply glow to all characters
      span.style.animation = `letterGlow 2s ease-in-out ${5 + i * 0.05}s infinite`;

      // Add blinking underline specifically for the "2"
      if (char === '2') {
        const underline = document.createElement('span');
        underline.textContent = '_';
        underline.style.position = 'absolute';
        underline.style.bottom = '-0.2em';
        underline.style.left = '50%';
        underline.style.transform = 'translateX(-50%)';
        underline.style.animation = `blink 1s ease-in-out ${5 + i * 0.05}s infinite`;
        span.appendChild(underline);
      }

      counter.appendChild(span);
    });

    // Fast auto-scroll sequence
    (function() {
      const demoSection = document.getElementById('demo-section');
      const joinSection = document.getElementById('join-section');
      const stageInner = document.querySelector('.stage-inner');
      const videoEl = document.querySelector('.demo-video');
      if (!demoSection || !stageInner) return;

      // Track real user interaction so we don't reveal join due to programmatic scroll
      let userInteracted = false;
      ['wheel','touchstart','keydown','mousedown'].forEach(evt => {
        window.addEventListener(evt, () => { userInteracted = true; }, { passive: true });
      });

      function quickScrollToCenter(target, durationMs = 1200) {
        const prefersReduced = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
        if (prefersReduced) {
          target.scrollIntoView({ behavior: 'auto', block: 'center' });
          return Promise.resolve();
        }
        return new Promise(resolve => {
          const startY = window.scrollY;
          const rect = target.getBoundingClientRect();
          const viewport = window.innerHeight;
          const targetY = Math.max(0, window.scrollY + rect.top - (viewport - rect.height) / 2);
          const startTime = performance.now();
          const easeInOut = t => t < 0.5 ? 2*t*t : -1 + (4 - 2*t)*t; // easeInOutQuad
          function step(now) {
            const p = Math.min(1, (now - startTime) / durationMs);
            const y = startY + (targetY - startY) * easeInOut(p);
            window.scrollTo(0, y);
            if (p < 1) requestAnimationFrame(step); else resolve();
          }
          requestAnimationFrame(step);
        });
      }

      function revealJoin() {
        if (joinSection && joinSection.hasAttribute('hidden')) {
          joinSection.removeAttribute('hidden');
          const btn = joinSection.querySelector('.big-join-btn');
          if (btn) btn.classList.add('revealed');
        }
      }

      // Lock down the video to be unskippable and not pausable
      if (videoEl) {
        // Ensure no controls are visible/enabled
        videoEl.controls = false;
        videoEl.addEventListener('contextmenu', (e) => e.preventDefault());
        videoEl.addEventListener('click', (e) => e.preventDefault());
        // Prevent pause, seeking, playback rate/volume changes
        let lastTime = 0;
        videoEl.addEventListener('timeupdate', () => { lastTime = videoEl.currentTime; });
        videoEl.addEventListener('seeking', () => {
          const delta = Math.abs(videoEl.currentTime - lastTime);
          if (delta > 0.45) videoEl.currentTime = lastTime;
        });
        videoEl.addEventListener('pause', () => { if (!videoEl.ended) { try { videoEl.play(); } catch(e){} } });
        videoEl.addEventListener('ratechange', () => { if (videoEl.playbackRate !== 1) videoEl.playbackRate = 1; });
        videoEl.addEventListener('volumechange', () => { if (videoEl.muted === false) videoEl.muted = true; });
      }

      let manualJoinShown = false;

      function startSequence() {
        // Scroll quickly to the demo and center it, then start video
        quickScrollToCenter(demoSection, 1200).then(() => {
          if (videoEl) {
            try { videoEl.muted = true; videoEl.play(); } catch (e) {}
            const goToJoin = () => {
              if (manualJoinShown) return; // user already revealed by scrolling
              // First scroll to the join area, then reveal the section
              quickScrollToCenter(joinSection, 1200).then(() => { revealJoin(); });
            };
            videoEl.addEventListener('ended', goToJoin, { once: true });
          } else {
            quickScrollToCenter(joinSection, 1200).then(() => { revealJoin(); });
          }
        });
      }

      // When the stage finishes its fade-in (after the counter), run sequence
      stageInner.addEventListener('animationend', startSequence, { once: true });
      // Fallback timer in case the event is missed
      setTimeout(startSequence, 6000);

      // If user manually scrolls past the demo, reveal the join section
      function checkPastDemo() {
        if (!userInteracted) return;
        const rect = demoSection.getBoundingClientRect();
        if (rect.bottom <= window.innerHeight - 80) {
          manualJoinShown = true;
          revealJoin();
          window.removeEventListener('scroll', checkPastDemo);
        }
      }
      window.addEventListener('scroll', checkPastDemo, { passive: true });
    })();

    


  </script>
</body>

</html>